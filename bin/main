#!/usr/bin/env ruby
require_relative '../lib/board.rb'
require_relative '../lib/player.rb'
puts 'What is you name Player 1?'
name = gets.chomp

puts "#{name} type a symbol to play with (X, 0)"
symbol = gets.chomp.downcase
player1 = Player.new(name, symbol)

puts 'What is your name Player 2?'
name = gets.chomp
symbol = symbol == 'x' ? '0' : 'x'

player2 = Player.new(name, symbol)

puts "#{player2.name} You have been assigned with #{player2.symbol} symbol"

board = Board.new
board.create_board

turns = 0
while turns < 9
  
  puts "\n Its #{player1.name} turn now!"
  puts "#{player1.name}, You can put #{player1.symbol} in available spaces."

  board.display_board

  turn = gets.chomp.to_i
  validate = false
  while validate = false 

  if board.validate(turn)
    validate = true
  else 
    puts"please insert a valid position"
  end

  end

  board.place_symbol(turn, player1.symbol)

  board.display_board
  
  turns += 1

  unless turns == 9
    puts "\n Its #{player2.name} turn now!"
    puts "#{player2.name}, You can put #{player2.symbol} in available spaces."

    turn = gets.chomp.to_i
    board.validate(turn)
    board.place_symbol(turn, player2.symbol)
   
    board.display_board
  end
  turns += 1

end
# After player1 player for three times run the game logic to check if he wins

puts "\nCongratulations #{player1.name}, You won!"

# If player1 is not winning move to player2 and show the available splace

# Check if player2 is winning, if not move to player1 and let him enter the value in available blocks

puts "\nCongratulations #{player2.name}, You won!"

# after player1 has played 5 times and neither player is winning declare a Draw

puts 'Its a Draw!'

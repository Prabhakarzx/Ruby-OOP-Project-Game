#!/usr/bin/env ruby
require_relative '../lib/board.rb'
require_relative '../lib/player.rb'
board = Board.new
board.create_board

validate = false
puts 'What is you name Player 1?'
name = gets.chomp

puts "#{name} type a symbol to play with (X, O)"
while validate == false
symbol = gets.chomp.upcase
unless board.validate_symbol(symbol) 
  puts "please enter a valid symbol"
else 
  validate = true
end
end

player1 = Player.new(name, symbol)

puts 'What is your name Player 2?'
name = gets.chomp
symbol = symbol == 'X' ? 'O' : 'X'

player2 = Player.new(name, symbol)

puts "#{player2.name} You have been assigned with #{player2.symbol} symbol"


def input(board)
  validate = false

  while validate == false
    turn = gets.chomp.to_i
    validate = board.validate_turn(turn)
    puts 'please enter a valid position' if validate == false
  end
  turn
end

turns = 0
while turns < 9
  puts "\n Its #{player1.name} turn now!"
  puts "#{player1.name}, You can put #{player1.symbol} in available spaces."

  board.display_board

  turn = input(board)

  board.place_symbol(turn, player1)

  board.display_board
  turns += 1

  unless turns == 9
    puts "\n Its #{player2.name} turn now!"
    puts "#{player2.name}, You can put #{player2.symbol} in available spaces."

    turn = input(board)

    board.place_symbol(turn, player2)

    board.display_board
  end
  turns += 1

end
# After player1 player for three times run the game logic to check if he wins

puts "\nCongratulations #{player1.name}, You won!"
p player1.array
p player2.array
# If player1 is not winning move to player2 and show the available splace

# Check if player2 is winning, if not move to player1 and let him enter the value in available blocks

puts "\nCongratulations #{player2.name}, You won!"

# after player1 has played 5 times and neither player is winning declare a Draw

puts 'Its a Draw!'
